APP_NAME = Gitea: Git with a cup of tea
RUN_USER = git
WORK_PATH = /data/gitea
RUN_MODE = prod

[database]
DB_TYPE = mysql
HOST = rm-bp13i603ewc5ec6t30o.mysql.rds.aliyuncs.com
NAME = gitea
USER = fintools
PASSWD =123Password
#HOST = localhost
#NAME = gitea
#USER = root
#PASSWD =
SCHEMA =
SSL_MODE = disable
PATH = /data/gitea/gitea.db
LOG_SQL = false

[repository]
ROOT = /data/git/repositories

[server]
DOMAIN = localhost
HTTP_PORT = 3000
# 使用相对路径，让 Gitea 根据反向代理 headers 自动判断协议和域名
ROOT_URL = /gitea/
LOCAL_ROOT_URL = http://localhost:3000/gitea/
SERVE_FROM_SUB_PATH = true
USE_SUB_URL_PATH = true
APP_DATA_PATH = /data/gitea
DISABLE_SSH = false
START_SSH_SERVER = true
SSH_DOMAIN = localhost
SSH_PORT = 2222
SSH_LISTEN_PORT = 2222
LFS_START_SERVER = true
LFS_JWT_SECRET = 0fxFjUhbVbPi3yjbr6lTa_RTLmeV4xNLb8P47gStnLc
OFFLINE_MODE = false
# 启用反向代理 headers（让 Gitea 正确识别 HTTPS 和域名）
ENABLE_PROXY_HEADERS = true

[lfs]
PATH = /data/git/lfs

[mailer]
ENABLED = false

[webhook]
ALLOWED_HOST_LIST = 127.0.0.1,localhost,8.153.13.5

[service]
REGISTER_EMAIL_CONFIRM = false
ENABLE_NOTIFY_MAIL = false
DISABLE_REGISTRATION = false
ALLOW_ONLY_EXTERNAL_REGISTRATION = false
ENABLE_CAPTCHA = false
REQUIRE_SIGNIN_VIEW = false
DEFAULT_KEEP_EMAIL_PRIVATE = false
DEFAULT_ALLOW_CREATE_ORGANIZATION = true
DEFAULT_ENABLE_TIMETRACKING = true
NO_REPLY_ADDRESS = noreply.localhost

# ===== 反向代理认证配置（Gitea 影子账号）=====
# 启用反向代理 Header 认证
ENABLE_REVERSE_PROXY_AUTHENTICATION = true
# 启用自动注册（Header 对应用户不存在时自动创建影子账号）
ENABLE_REVERSE_PROXY_AUTO_REGISTRATION = true
# 启用反向代理 Email 同步
ENABLE_REVERSE_PROXY_EMAIL = true

[openid]
ENABLE_OPENID_SIGNIN = true
ENABLE_OPENID_SIGNUP = true

[cron.update_checker]
ENABLED = false

[session]
PROVIDER = file

[log]
MODE = console,file
LEVEL = trace
ROOT_PATH = /data/gitea/log

[repository.pull-request]
DEFAULT_MERGE_STYLE = merge

[repository.signing]
DEFAULT_TRUST_MODEL = committer

[security]
INSTALL_LOCK = true
INTERNAL_TOKEN = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJuYmYiOjE3Njc4OTI4MTV9.IbeQ3InscAnkDxJvQpUOor_EFXaPIaYNdoDKEluNg8Q
PASSWORD_HASH_ALGO = pbkdf2

# ===== 反向代理 Header 名称配置（可选，默认就是这些值）=====
# 如果需要自定义 Header 名称，可以修改这里
REVERSE_PROXY_AUTHENTICATION_USER = X-WEBAUTH-USER
REVERSE_PROXY_AUTHENTICATION_EMAIL = X-WEBAUTH-EMAIL

[oauth2]
ENABLED = true
JWT_SECRET = niat9M4QGehQ-66GmjeH06SUPt_KuLuygxeXuXWPNhM
